function createBlock(blockConfig){const{registerBlockType:registerBlockType}=wp.blocks,{createElement:createElement}=wp.element,{InspectorControls:InspectorControls}=wp.blockEditor,{CheckboxControl:CheckboxControl,RadioControl:RadioControl,SelectControl:SelectControl,TextControl:TextControl,TextareaControl:TextareaControl,ToggleControl:ToggleControl}=wp.components,{serverSideRender:serverSideRender}=wp;registerBlockType(blockConfig.block.blocktype,{title:blockConfig.block.title,category:blockConfig.block.category,icon:blockConfig.block.icon,construct(){props.setAttributes({countit:0})},edit(props){const att=props.attributes,setAtts=props.setAttributes;function changeField(val){"number"==blockConfig[this].type&&(val=parseInt(val)),setAtts({[this]:val})}function clean(obj){for(var propName in obj)null!==obj[propName]&&void 0!==obj[propName]||delete obj[propName]}if(!1===props.isSelected&&!0===edited)return clean(att),createElement(serverSideRender,{block:blockConfig.block.blocktype,attributes:att});var ret=[];for(var fieldname in ret.push(createElement("div",{className:"components-placeholder__label"},[createElement("span",{className:"editor-block-icon block-editor-block-icon dashicons-before dashicons-"+blockConfig.block.icon},null),blockConfig.block.title])),blockConfig)switch(blockConfig[fieldname].field_type){case"checkbox":ret.push(createElement(CheckboxControl,{checked:void 0!==att[fieldname]?att[fieldname]:blockConfig[fieldname].default,label:blockConfig[fieldname].label,onChange:changeField.bind(fieldname)}));break;case"radio":var opts=[];for(var v in blockConfig[fieldname].values)opts.push(JSON.parse('{"value":"'+v+'", "label":"'+blockConfig[fieldname].values[v]+'"}'));ret.push(createElement(RadioControl,{selected:void 0!==att[fieldname]?att[fieldname]:blockConfig[fieldname].default,label:blockConfig[fieldname].label,onChange:changeField.bind(fieldname),options:opts}));break;case"multi_select":case"select":for(var opts=[],i=0;i<blockConfig[fieldname].values.length;i++)opts.push(JSON.parse('{"value":"'+blockConfig[fieldname].values[i].id+'", "label":"'+blockConfig[fieldname].values[i].val+'"}'));ret.push(createElement(SelectControl,{multiple:"multi_select"==blockConfig[fieldname].field_type?1:0,value:att[fieldname],label:blockConfig[fieldname].label,type:blockConfig[fieldname].type,onChange:changeField.bind(fieldname),options:opts}));break;case"text":ret.push(createElement(TextControl,{value:att[fieldname],label:blockConfig[fieldname].label,type:blockConfig[fieldname].type,onChange:changeField.bind(fieldname)}));break;case"textarea":ret.push(createElement(TextareaControl,{value:att[fieldname],label:blockConfig[fieldname].label,type:blockConfig[fieldname].type,onChange:changeField.bind(fieldname)}));break;case"toggle":ret.push(createElement(ToggleControl,{checked:void 0!==att[fieldname]?att[fieldname]:blockConfig[fieldname].default,label:blockConfig[fieldname].label,type:blockConfig[fieldname].type,onChange:changeField.bind(fieldname)}))}return edited=!0,createElement("div",{className:"components-placeholder"},ret)},save:props=>null})}edited=!1;